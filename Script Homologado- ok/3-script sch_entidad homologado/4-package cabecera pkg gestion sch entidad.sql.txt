CREATE OR REPLACE package SCH_ENTIDAD.PKG_GESTION is
ESTADO_REGISTRO_ACTIVO VARCHAR (1) DEFAULT 'N';
TYPE cursor_test is ref cursor;

PROCEDURE BUSCAR_ADMINISTRADORES_FILTRO(/*V_SOLICITUD_ENTIDAD_ID  IN SCH_ENTIDAD.TBL_SOLICITUD_ENTIDAD.SOLICITUD_ENTIDAD_ID%TYPE DEFAULT NULL*/
                                V_RAZON_SOCIAL          IN SCH_ENTIDAD.TBL_SOLICITUD_PERSONA.RAZON_SOCIAL%TYPE DEFAULT NULL
                                ,V_NUMERO_RUC            IN SCH_ENTIDAD.TBL_SOLICITUD_PERSONA.NUMERO_DOCUMENTO%TYPE DEFAULT NULL
                                ,V_SECTOR                IN SCH_ENTIDAD.TBL_SOLICITUD.SECTOR%TYPE DEFAULT NULL
                                ,V_NIVEL_GOBIERNO        IN SCH_ENTIDAD.TBL_SOLICITUD.NIVEL_GOBIERNO%TYPE DEFAULT NULL
                                ,V_FECHA_INICIO          IN SCH_ENTIDAD.TBL_SOLICITUD.FECHA_CREACION%TYPE DEFAULT NULL
                                ,V_FECHA_FIN             IN SCH_ENTIDAD.TBL_SOLICITUD.FECHA_CREACION%TYPE DEFAULT NULL
                                ,V_ESTADO_REGISTRO       IN SCH_ENTIDAD.TBL_SOLICITUD.ESTADO_SOLICITUD%TYPE DEFAULT NULL
                                ,V_DEPARTAMENTO          IN SCH_MAESTRA.TBL_UBIGEO.UBIGEO_ID%TYPE DEFAULT NULL
                                ,V_PROVINCIA             IN SCH_MAESTRA.TBL_UBIGEO.UBIGEO_ID%TYPE DEFAULT NULL
                                ,V_DISTRITO              IN SCH_MAESTRA.TBL_UBIGEO.UBIGEO_ID%TYPE DEFAULT NULL
                                ,CUR_TEST                OUT cursor_test);

PROCEDURE SP_BUSCAR_CUENTAS_ASOCIADAS(V_ENTIDAD_ID         IN SCH_ENTIDAD.TBL_CUENTA_ENTIDAD.ENTIDAD_ID%TYPE DEFAULT NULL 
                                  ,V_TEXTO                 IN VARCHAR2 DEFAULT NULL                               
                                  ,CUR_TEST                OUT cursor_test);

PROCEDURE SP_BUSCAR_ENTIDAD(V_ENTIDAD_ID         IN SCH_ENTIDAD.TBL_ENTIDAD.ENTIDAD_ID%TYPE DEFAULT NULL                                                        
                                  ,CUR_TEST                OUT cursor_test);

PROCEDURE SP_VALIDAR_USUARIO(V_NUMERO_DOCUMENTO      IN SCH_PERSONA.tbl_documento.NUMERO_DOCUMENTO%TYPE DEFAULT NULL                                                        
                            ,CUR_TEST                OUT cursor_test);

PROCEDURE SP_BUSCAR_ROLES(V_ENTIDAD_ID            IN TBL_CUENTA_ENTIDAD.ENTIDAD_ID%TYPE DEFAULT NULL                                                                  
                         ,V_APLICACION_ID         IN SCH_SEGURIDAD.TBL_ROL.APLICACION_ID%TYPE DEFAULT NULL  
                         ,CUR_TEST                OUT cursor_test);   
PROCEDURE SP_BUSCAR_ORGANIGRAMA(V_ENTIDAD_ID         IN SCH_ENTIDAD.TBL_ORGANIGRAMA.ENTIDAD_ID%TYPE DEFAULT NULL 
                               ,V_TIPO               IN SCH_ENTIDAD.TBL_ORGANIGRAMA.TIPO_ORGANO_UO_ID%TYPE DEFAULT NULL 
                               ,V_TEXTO              IN VARCHAR2 DEFAULT NULL                                                                             
                               ,CUR_TEST             OUT cursor_test);

PROCEDURE SP_VALIDAR_TAREAS_CTA_ASOCIADA(V_CUENTA_ENTIDAD_ID         IN SCH_ENTIDAD.TBL_CUENTA_ENTIDAD.CUENTA_ENTIDAD_ID%TYPE DEFAULT NULL                                                                                                             
                            ,CUR_TEST             OUT cursor_test);
PROCEDURE SP_VALIDA_CTA_ASOCIADA(V_PERSONA_ID         IN SCH_ENTIDAD.TBL_CUENTA_ENTIDAD.PERSONA_ID%TYPE DEFAULT NULL                                                                                                             
                            ,CUR_TEST             OUT cursor_test);
PROCEDURE SP_PERSONA_ORGANIGRAMA(V_TIPO_DOC     IN SCH_PERSONA.TBL_DOCUMENTO.TIPO_DOCUMENTO%TYPE DEFAULT NULL 
                               ,V_NRODOCUMENTO  IN SCH_PERSONA.TBL_DOCUMENTO.NUMERO_DOCUMENTO%TYPE DEFAULT NULL                                      
                               ,CUR_TEST        OUT cursor_test);
PROCEDURE SP_PERSONA_ENTIDAD(V_TIPO_DOC     IN SCH_PERSONA.TBL_DOCUMENTO.TIPO_DOCUMENTO%TYPE DEFAULT NULL 
                               ,V_NRODOCUMENTO  IN SCH_PERSONA.TBL_DOCUMENTO.NUMERO_DOCUMENTO%TYPE DEFAULT NULL                                      
                               ,CUR_TEST        OUT cursor_test);
PROCEDURE SP_BUSCAR_UNIDAD_ORGANICA(V_ENTIDAD_ID         IN SCH_ENTIDAD.TBL_ORGANIGRAMA.ENTIDAD_ID%TYPE DEFAULT NULL 
                                   ,CUR_TEST             OUT cursor_test);
PROCEDURE SP_BUSCAR_ORGANIGRAMA_PADRE(V_ENTIDAD_ID         IN SCH_ENTIDAD.TBL_ORGANIGRAMA.ENTIDAD_ID%TYPE DEFAULT NULL 
                                     ,V_PERSONA_ID         IN SCH_ENTIDAD.TBL_ORGANIGRAMA.PERSONA_RESPONSABLE_ID%TYPE DEFAULT NULL
                                     ,V_ORGANIGRAMA_ID     IN SCH_ENTIDAD.TBL_ORGANIGRAMA.ORGANIGRAMA_ID%TYPE DEFAULT NULL
                                     ,V_PUESTO             IN SCH_ENTIDAD.TBL_ORGANIGRAMA.PUESTO%TYPE DEFAULT NULL  
                                     ,V_ESTADO_REGISTRO    IN SCH_ENTIDAD.TBL_ORGANIGRAMA.ESTADO_REGISTRO%TYPE DEFAULT NULL
                                     ,V_UNIDAD_ID          IN SCH_ENTIDAD.TBL_ORGANIGRAMA.ORGANIGRAMA_ID%TYPE DEFAULT NULL
                                     ,CUR_TEST             OUT cursor_test);
PROCEDURE SP_BUSCAR_ORGANIGRAMA_HIJO(V_ENTIDAD_ID         IN SCH_ENTIDAD.TBL_ORGANIGRAMA.ENTIDAD_ID%TYPE DEFAULT NULL 
                                    ,V_PERSONA_ID         IN SCH_ENTIDAD.TBL_ORGANIGRAMA.PERSONA_RESPONSABLE_ID%TYPE DEFAULT NULL                                    
                                    ,V_UNIDAD_ID          IN SCH_ENTIDAD.TBL_ORGANIGRAMA.ORGANIGRAMA_ID%TYPE DEFAULT NULL
                                    ,V_PUESTO             IN SCH_ENTIDAD.TBL_ORGANIGRAMA.PUESTO%TYPE DEFAULT NULL  
                                    ,V_ESTADO_REGISTRO    IN SCH_ENTIDAD.TBL_ORGANIGRAMA.ESTADO_REGISTRO%TYPE DEFAULT NULL
                                    ,CUR_TEST             OUT cursor_test);
PROCEDURE SP_BUSCAR_PERSONA_ORGANIGRAMA(V_ENTIDAD_ID      IN SCH_ENTIDAD.TBL_ORGANIGRAMA.ENTIDAD_ID%TYPE DEFAULT NULL
                                       ,V_TEXTO           IN VARCHAR2 DEFAULT NULL
                                       ,CUR_TEST          OUT cursor_test);

PROCEDURE SP_BUSCA_SEDE(V_ENTIDAD_ID      IN SCH_ENTIDAD.Tbl_Sede.ENTIDAD_ID%TYPE DEFAULT NULL
                       ,V_DISTRITO        IN SCH_MAESTRA.TBL_UBIGEO.UBIGEO_ID%TYPE DEFAULT NULL
                       ,V_PROVINCIA       IN SCH_MAESTRA.TBL_UBIGEO.UBIGEO_ID%TYPE DEFAULT NULL
                       ,V_DEPARTAMENTO    IN SCH_MAESTRA.TBL_UBIGEO.UBIGEO_ID%TYPE DEFAULT NULL
                       ,V_ESTADO_REGISTRO IN SCH_ENTIDAD.Tbl_Sede.ESTADO_REGISTRO%TYPE DEFAULT NULL
                       ,V_SEDE_ID         IN SCH_ENTIDAD.Tbl_Sede.SEDE_ID%TYPE DEFAULT NULL
                       ,CUR_TEST          OUT cursor_test);

PROCEDURE SP_BUSCAR_USUARIOS_POR_ROL_ENT(
						V_ENTIDAD_ID      IN SCH_ENTIDAD.TBL_ENTIDAD.ENTIDAD_ID%TYPE DEFAULT NULL
                       ,V_ROL_ID          IN SCH_SEGURIDAD.TBL_USUARIO_ROL.ROL_ID%TYPE DEFAULT NULL
                       ,V_APLICACION_ID   IN SCH_SEGURIDAD.TBL_ROL.APLICACION_ID%TYPE DEFAULT NULL
                       ,CUR_TEST          OUT cursor_test);					 


PROCEDURE SP_BUSCAR_ENTIDADES_ACTIVAS(CUR_TEST                OUT cursor_test);

PROCEDURE SP_BUSCAR_ENTIDADES_POR_IDS(V_LIST_IDS           IN VARCHAR2,
                                                CUR_TEST                OUT cursor_test);


PROCEDURE SP_BUSCAR_ENTIDADES_POR_USUARIO (V_ENTIDAD_ID IN SCH_ENTIDAD.TBL_ENTIDAD.ENTIDAD_ID%type
                                            ,CUR_TEST OUT cursor_test);  

PROCEDURE SP_BUSCAR_ENTIDAD_FILT(V_ENTIDAD_ID         IN SCH_ENTIDAD.TBL_ENTIDAD.ENTIDAD_ID%TYPE DEFAULT NULL,
                                 V_SECTOR_ID          IN SCH_ENTIDAD.TBL_ENTIDAD.SECTOR_ID%TYPE DEFAULT NULL,
                                 V_NIVEL_GOBIERNO_ID  IN SCH_ENTIDAD.TBL_ENTIDAD.NIVEL_GOBIERNO_ID%TYPE DEFAULT NULL,
                                 V_TIPO_ENTIDAD_ID    IN SCH_ENTIDAD.TBL_ENTIDAD.TIPO_ENTIDAD_ID%TYPE DEFAULT NULL,  
                                 V_TIPO_ENT_PUB_ID    IN SCH_ENTIDAD.TBL_ENTIDAD.TIPO_ENTIDAD_PUB_ID%TYPE DEFAULT NULL, 
                                 V_DESCRIP_ENTIDAD    IN SCH_ENTIDAD.TBL_ENTIDAD.DESCRIPCION_ENTIDAD%TYPE DEFAULT NULL,                                                     
                                 CUR_TEST             OUT cursor_test);

PROCEDURE SP_BUSCAR_UNIDADES_ORGANICAS_ENTIDAD (V_ENTIDAD_ID         IN SCH_ENTIDAD.TBL_ORGANIGRAMA.ENTIDAD_ID%TYPE DEFAULT NULL 
                                               ,CUR_TEST            OUT cursor_test);

PROCEDURE SP_BUSCAR_PUESTOS_ENTIDAD (V_ENTIDAD_ID         IN SCH_ENTIDAD.TBL_ORGANIGRAMA.ENTIDAD_ID%TYPE DEFAULT NULL 
                                    ,CUR_TEST            OUT cursor_test);

PROCEDURE SP_BUSCAR_SERVIDORES_CIVILES (V_ENTIDAD_ID         IN SCH_ENTIDAD.TBL_ORGANIGRAMA.ENTIDAD_ID%TYPE DEFAULT NULL 
									   ,V_TIPO_ORGANO        IN SCH_MAESTRA.TBL_PARAMETRO.PARAMETRO_ID%TYPE DEFAULT NULL 
									   ,V_UO_SUPERIOR        IN SCH_ENTIDAD.TBL_ORGANIGRAMA.PADRE_ORGANIGRAMA_ID%TYPE DEFAULT NULL 
									   ,V_UO                 IN SCH_ENTIDAD.TBL_ORGANIGRAMA.ORGANIGRAMA_ID%TYPE DEFAULT NULL 
									   ,V_REGIMEN_LABORAL    IN SCH_MAESTRA.TBL_PARAMETRO.PARAMETRO_ID%TYPE DEFAULT NULL 
									   ,V_TIPO_DOCUMENTO     IN SCH_PERSONA.TBL_DOCUMENTO.TIPO_DOCUMENTO%TYPE DEFAULT NULL
									   ,V_APE_PATERNO        IN SCH_PERSONA.TBL_PERSONA_NATURAL.APELLIDO_PATERNO%TYPE DEFAULT NULL
									   ,V_APE_MATERNO        IN SCH_PERSONA.TBL_PERSONA_NATURAL.APELLIDO_MATERNO%TYPE DEFAULT NULL
									   ,V_NOMBRES            IN SCH_PERSONA.TBL_PERSONA_NATURAL.NOMBRES%TYPE DEFAULT NULL
                                       ,CUR_TEST            OUT cursor_test);

PROCEDURE SP_SEL_SERVIDORES_CIVILES (V_ENTIDAD_ID IN SCH_ENTIDAD.TBL_DETALLE_UO.ENTIDAD_ID%TYPE
                                    ,V_TIPO_ORGANO IN SCH_ENTIDAD.TBL_ORGANIGRAMA.TIPO_ORGANO_UO_ID%TYPE
                                    ,V_UO_SUPERIOR IN SCH_ENTIDAD.TBL_ORGANIGRAMA.PADRE_ORGANIGRAMA_ID%TYPE
                                    ,V_UO IN SCH_ENTIDAD.TBL_ORGANIGRAMA.ORGANIGRAMA_ID%TYPE
                                    ,V_REGIMEN_LABORAL IN SCH_ENTIDAD.TBL_EMPLEADO.REGIMEN_LABORAL_ID%TYPE
                                    ,V_TIPO_DOCUMENTO IN SCH_PERSONA.TBL_DOCUMENTO.TIPO_DOCUMENTO%TYPE
                                    ,V_APE_PAT_MAT_NOM IN VARCHAR2
                                    ,V_NUMERO_DOCUMENTO IN SCH_PERSONA.TBL_DOCUMENTO.NUMERO_DOCUMENTO%TYPE
                                    ,V_ESTADO_ID IN SCH_ENTIDAD.TBL_DETALLE_UO.ESTADO_REGISTRO%TYPE
									,CUR_TEST OUT cursor_test);

PROCEDURE SP_BUSCAR_UNIDADES_ORGANICAS_SUPERIOR_ENTIDAD (V_ENTIDAD_ID         IN SCH_ENTIDAD.TBL_ORGANIGRAMA.ENTIDAD_ID%TYPE DEFAULT NULL 
                                                        ,CUR_TEST            OUT cursor_test);

PROCEDURE SP_BUSCAR_SERVIDORES_RECTORES  (V_ENTIDAD_ID         IN SCH_ENTIDAD.TBL_DETALLE_UO.ENTIDAD_ID%TYPE
                                         ,V_TIPO_ORGANO        IN SCH_ENTIDAD.TBL_ORGANIGRAMA.TIPO_ORGANO_UO_ID%TYPE
                                         ,V_UO_SUPERIOR        IN SCH_ENTIDAD.TBL_ORGANIGRAMA.PADRE_ORGANIGRAMA_ID%TYPE
                                         ,V_UO                 IN SCH_ENTIDAD.TBL_ORGANIGRAMA.ORGANIGRAMA_ID%TYPE
                                         ,V_REGIMEN_LABORAL    IN SCH_ENTIDAD.TBL_EMPLEADO.REGIMEN_LABORAL_ID%TYPE
                                         ,V_TIPO_DOCUMENTO     IN SCH_PERSONA.TBL_DOCUMENTO.TIPO_DOCUMENTO%TYPE
                                         ,V_APE_PAT_MAT_NOM    IN VARCHAR2
                                         ,V_NUMERO_DOCUMENTO  IN SCH_PERSONA.TBL_DOCUMENTO.NUMERO_DOCUMENTO%TYPE
                                         ,CUR_TEST            OUT cursor_test);

PROCEDURE SP_BUSCAR_UNIDADES_ORGANICAS_X_SERVIDOR_CIVIL  (V_ENTIDAD_ID         IN SCH_ENTIDAD.TBL_DETALLE_UO.ENTIDAD_ID%TYPE
                                         ,V_TIPO_DOCUMENTO     IN SCH_PERSONA.TBL_DOCUMENTO.TIPO_DOCUMENTO%TYPE
                                         ,V_NUMERO_DOCUMENTO  IN SCH_PERSONA.TBL_DOCUMENTO.NUMERO_DOCUMENTO%TYPE
                                         ,CUR_TEST            OUT cursor_test);

PROCEDURE SP_LISTAR_GESTORES_ORH(V_ENTIDAD_ID         IN SCH_ENTIDAD.TBL_DETALLE_UO.ENTIDAD_ID%TYPE
                                ,CUR_TEST                OUT cursor_test);

PROCEDURE SP_BUSCAR_TIPO_RUC(V_TIPO_DOC     IN SCH_PERSONA.TBL_DOCUMENTO.TIPO_DOCUMENTO%TYPE DEFAULT NULL 
                               ,V_NRODOCUMENTO  IN SCH_PERSONA.TBL_DOCUMENTO.NUMERO_DOCUMENTO%TYPE DEFAULT NULL                                      
                               ,CUR_TEST        OUT cursor_test);

PROCEDURE SP_BUSCAR_UO_X_SERVIDOR_CIVIL  (V_ENTIDAD_ID         IN SCH_ENTIDAD.TBL_DETALLE_UO.ENTIDAD_ID%TYPE
                                         ,V_TIPO_DOCUMENTO     IN SCH_PERSONA.TBL_DOCUMENTO.TIPO_DOCUMENTO%TYPE
                                         ,V_NUMERO_DOCUMENTO  IN SCH_PERSONA.TBL_DOCUMENTO.NUMERO_DOCUMENTO%TYPE
                                         ,CUR_TEST            OUT cursor_test);

PROCEDURE SP_BUSCA_SOLICITUD_BY_NRO (V_NUMERO IN SCH_ENTIDAD.TBL_SOLICITUD_PERSONA.NUMERO_DOCUMENTO%TYPE
                                    ,CUR_TEST            OUT cursor_test);

PROCEDURE SP_FILTRAR_SOLICITUD_EXTERNA (V_RUC_ENTIDAD       IN SCH_ENTIDAD.TBL_SOLICITUD_ENTIDADES_EXTERNAS.RUC_ENTIDAD%TYPE
                             ,V_RAZON_SOCIAL      IN SCH_ENTIDAD.TBL_SOLICITUD_ENTIDADES_EXTERNAS.RAZON_SOCIAL%TYPE
                             ,V_NOMBRE_COMPLETO   IN VARCHAR2
                             ,V_ESTADO_SOLICITUD  IN SCH_ENTIDAD.TBL_SOLICITUD_ENTIDADES_EXTERNAS.ESTADO_SOLICITUD%TYPE
                             ,V_TIPO_DOCUMENTO    IN SCH_ENTIDAD.TBL_SOLICITUD_ENTIDADES_EXTERNAS.TIPO_DOCUMENTO%TYPE
                             ,V_NUMERO_DOCUMENTO  IN SCH_ENTIDAD.TBL_SOLICITUD_ENTIDADES_EXTERNAS.NUMERO_DOCUMENTO%TYPE
                             ,V_ANIO              IN VARCHAR2
                             ,V_SOLICITUD_EXT_ID  IN SCH_ENTIDAD.TBL_SOLICITUD_ENTIDADES_EXTERNAS.SOLICITUD_ENT_EXT_ID%TYPE
                             ,CUR_TEST          OUT cursor_test);

PROCEDURE SP_BUSCAR_GESTOR_ORH(V_GESTOR_ID     IN SCH_ENTIDAD.TBL_GESTORES.GESTOR_ID%TYPE
                               ,CUR_TEST        OUT cursor_test);

PROCEDURE SP_BUSCAR_ANIO_SOLEXT(CUR_TEST        OUT cursor_test);

PROCEDURE SP_LISTAR_USUARIO_ROL_X_ENTIDAD( V_ENTIDAD_ID      IN SCH_ENTIDAD.TBL_ENTIDAD.ENTIDAD_ID%TYPE DEFAULT NULL
                                           ,V_ROL_ID          IN SCH_SEGURIDAD.TBL_USUARIO_ROL.ROL_ID%TYPE DEFAULT NULL
                                           ,CUR_TEST          OUT cursor_test);

PROCEDURE SP_RESUMEN_SERVIDORES_CIVILES(V_ENTIDAD_ID      IN SCH_ENTIDAD.TBL_ENTIDAD.ENTIDAD_ID%TYPE DEFAULT NULL,
                                     CUR_TEST          OUT cursor_test);

PROCEDURE SP_RESUMEN_SERVIDORES_CIVILES_TIPO_ORGANO(V_ENTIDAD_ID      IN SCH_ENTIDAD.TBL_ENTIDAD.ENTIDAD_ID%TYPE DEFAULT NULL
                                                 , CUR_TEST          OUT cursor_test);

PROCEDURE SP_RESUMEN_SERVIDORES_CIVILES_REGIMEN_LABORAL(V_ENTIDAD_ID      IN SCH_ENTIDAD.TBL_ENTIDAD.ENTIDAD_ID%TYPE DEFAULT NULL, CUR_TEST          OUT cursor_test);

PROCEDURE SP_RESUMEN_SERVIDORES_CIVILES_GDR (V_ENTIDAD_ID      IN SCH_ENTIDAD.TBL_ENTIDAD.ENTIDAD_ID%TYPE DEFAULT NULL
                                                 , CUR_TEST          OUT cursor_test);

PROCEDURE SP_RESUMEN_SERVIDORES_CIVILES_REGIMEN_LABORAL_GDR(V_ENTIDAD_ID      IN SCH_ENTIDAD.TBL_ENTIDAD.ENTIDAD_ID%TYPE DEFAULT NULL, CUR_TEST          OUT cursor_test);

PROCEDURE SP_RESUMEN_SERVIDORES_CIVILES_TIPO_ORGANO_GDR(V_ENTIDAD_ID      IN SCH_ENTIDAD.TBL_ENTIDAD.ENTIDAD_ID%TYPE DEFAULT NULL
                                                 , CUR_TEST          OUT cursor_test);

PROCEDURE SP_RESUMEN_SERVIDORES_CIVILES_X_CARRERAS_ESPECIALES(V_ENTIDAD_ID      IN SCH_ENTIDAD.TBL_ENTIDAD.ENTIDAD_ID%TYPE DEFAULT NULL
, CUR_TEST          OUT cursor_test);

PROCEDURE SP_RESUMEN_SERVIDORES_CIVILES_SINDICALIZADOS_GDR(V_ENTIDAD_ID      IN SCH_ENTIDAD.TBL_ENTIDAD.ENTIDAD_ID%TYPE DEFAULT NULL
, CUR_TEST          OUT cursor_test);

PROCEDURE SP_RESUMEN_SERVIDORES_CIVILES_X_SEGMENTO_GDR(V_ENTIDAD_ID      IN SCH_ENTIDAD.TBL_ENTIDAD.ENTIDAD_ID%TYPE DEFAULT NULL
, CUR_TEST          OUT cursor_test);

end PKG_GESTION;