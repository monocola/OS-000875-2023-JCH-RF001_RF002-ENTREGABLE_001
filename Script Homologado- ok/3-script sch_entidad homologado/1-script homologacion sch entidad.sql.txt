--esuqema sch entidad

ALTER TABLE "SCH_ENTIDAD"."TBL_ENTIDAD" ADD ("NRO_SINDICATOS" NUMBER);

ALTER TABLE "SCH_ENTIDAD"."TBL_GESTORES" ADD ("CELULAR" VARCHAR2(20));
ALTER TABLE "SCH_ENTIDAD"."TBL_GESTORES" ADD ("CELULAR_ID" NUMBER);
ALTER TABLE "SCH_ENTIDAD"."TBL_GESTORES" ADD ("NUMERO_ANEXO" VARCHAR2(10));
ALTER TABLE "SCH_ENTIDAD"."TBL_GESTORES" ADD ("TELEFONO_ID" NUMBER);
ALTER TABLE "SCH_ENTIDAD"."TBL_GESTORES" ADD ("TIPO_TELEFONO" VARCHAR2(5));
ALTER TABLE "SCH_ENTIDAD"."TBL_ORGANIGRAMA" MODIFY ("DESCRIPCION" VARCHAR2(300));
ALTER TABLE "SCH_ENTIDAD"."TBL_SOLICITUD_ENTIDADES_EXTERNAS" ADD ("CORREO_GESTOR_GDR" VARCHAR2(100));
ALTER TABLE "SCH_ENTIDAD"."TBL_SOLICITUD_ENTIDADES_EXTERNAS" ADD ("ENTIDAD_ID" LONG);
ALTER TABLE "SCH_ENTIDAD"."TBL_SOLICITUD_ENTIDADES_EXTERNAS" ADD ("SINDICATO" NUMBER);
ALTER TABLE "SCH_ENTIDAD"."TBL_SOLICITUD_ENTIDADES_EXTERNAS" ADD ("SOLICITUD_OBS" VARCHAR2(250));
ALTER TABLE "SCH_ENTIDAD"."TBL_SOLICITUD_ENTIDADES_EXTERNAS" MODIFY ("TELEFONO_FIJO" NULL);



ALTER SEQUENCE "SCH_ENTIDAD"."SEQ_DET_UO_ID" CACHE 20;
ALTER SEQUENCE "SCH_ENTIDAD"."SEQ_EMPLEADO_ID" CACHE 20;
ALTER SEQUENCE "SCH_ENTIDAD"."SEQ_GESTORES" MAXVALUE 99999999999 CACHE 20;
ALTER SEQUENCE "SCH_ENTIDAD"."SEQ_PUESTO_ID" CACHE 20;
ALTER SEQUENCE "SCH_ENTIDAD"."SQ_ARCHIVO" CACHE 20;
ALTER SEQUENCE "SCH_ENTIDAD"."SQ_BANNER" CACHE 20;
ALTER SEQUENCE "SCH_ENTIDAD"."SQ_CARGO" CACHE 20;
ALTER SEQUENCE "SCH_ENTIDAD"."SQ_CUENTA_ENTIDAD" CACHE 20;
ALTER SEQUENCE "SCH_ENTIDAD"."SQ_DIRECCION" CACHE 20;
ALTER SEQUENCE "SCH_ENTIDAD"."SQ_ENTIDAD" CACHE 20;
ALTER SEQUENCE "SCH_ENTIDAD"."SQ_ORGANIGRAMA" CACHE 20;
ALTER SEQUENCE "SCH_ENTIDAD"."SQ_PUESTO" CACHE 20;
ALTER SEQUENCE "SCH_ENTIDAD"."SQ_SEDE" CACHE 20;
ALTER SEQUENCE "SCH_ENTIDAD"."SQ_SOLICITUD" CACHE 20;
ALTER SEQUENCE "SCH_ENTIDAD"."SQ_SOLICITUD_ARCHIVO" CACHE 20;
ALTER SEQUENCE "SCH_ENTIDAD"."SQ_SOLICITUD_ENTIDAD_EXT" CACHE 20;
ALTER SEQUENCE "SCH_ENTIDAD"."SQ_SOLICITUD_PERSONA" CACHE 20;
ALTER SEQUENCE "SCH_ENTIDAD"."SQ_SOLICITUD_REVISION" CACHE 20;
ALTER SEQUENCE "SCH_ENTIDAD"."SQ_SOLICITUD_REVISION_DET" CACHE 20;
ALTER SEQUENCE "SCH_ENTIDAD"."SQ_VALIDACION_ENTIDAD" CACHE 20;


COMMENT ON COLUMN SCH_ENTIDAD.TBL_SOLICITUD_ENTIDADES_EXTERNAS.SINDICATO IS 'CODIGO DE SINDICATO';
COMMENT ON COLUMN SCH_ENTIDAD.TBL_SOLICITUD_ENTIDADES_EXTERNAS.CORREO_GESTOR_GDR IS 'Correo de gestor gdr';

CREATE TABLE "SCH_ENTIDAD"."TBL_PROCESO" 
   (	"PROCESO_ID" NUMBER(9,0) NOT NULL ENABLE, 
	"TIPO_PROCESO_ID" NUMBER(9,0), 
	"USUARIO_ENVIO" VARCHAR2(30) NOT NULL ENABLE, 
	"FECHA_ENVIO" DATE NOT NULL ENABLE, 
	"FECHA_FIN" DATE, 
	"URL_ARCHIVO_INPUT" VARCHAR2(500),
	"URL_ARCHIVO_OUTPUT" VARCHAR2(500),
	"JSON_VARIABLES_INPUT" CLOB, 
	"JSON_VARIABLES_OUTPUT" CLOB, 
	"ESTADO_PROCESO_ID" NUMBER(9,0) NOT NULL ENABLE,
	"MENSAJE_ERROR" VARCHAR2(1000),
	"ESTADO_REGISTRO" CHAR(1) NOT NULL ENABLE, 
	"USUARIO_CREACION" VARCHAR2(30) NOT NULL ENABLE, 
	"FECHA_CREACION" DATE NOT NULL ENABLE, 
	"USUARIO_MODIFICACION" VARCHAR2(30), 
	"FECHA_MODIFICACION" DATE, 
	 CONSTRAINT "PROCESO_ID_PK" PRIMARY KEY ("PROCESO_ID"));

COMMENT ON COLUMN SCH_ENTIDAD.TBL_PROCESO.PROCESO_ID IS 'PROCESO_ID';
COMMENT ON COLUMN SCH_ENTIDAD.TBL_PROCESO.TIPO_PROCESO_ID IS 'TIPO_PROCESO_ID';
COMMENT ON COLUMN SCH_ENTIDAD.TBL_PROCESO.USUARIO_ENVIO IS 'USUARIO QUE ENVIO EL PROCESO';
COMMENT ON COLUMN SCH_ENTIDAD.TBL_PROCESO.FECHA_ENVIO IS 'FECHA DE ENVIO DEL PROCESO';
COMMENT ON COLUMN SCH_ENTIDAD.TBL_PROCESO.FECHA_FIN IS 'FECHA FINALIZO EL PROCESO';
COMMENT ON COLUMN SCH_ENTIDAD.TBL_PROCESO.URL_ARCHIVO_INPUT IS 'RUTA ARCHIVO INPUT PARA EL PROCESO';
COMMENT ON COLUMN SCH_ENTIDAD.TBL_PROCESO.URL_ARCHIVO_OUTPUT IS 'RUTA ARCHIVO OUTPUT PARA EL PROCESO';
COMMENT ON COLUMN SCH_ENTIDAD.TBL_PROCESO.JSON_VARIABLES_INPUT IS 'VARIABLES FORMATO JSON INPUT';
COMMENT ON COLUMN SCH_ENTIDAD.TBL_PROCESO.JSON_VARIABLES_OUTPUT IS 'VARIABLES FORMATO JSON OUTPUT';
COMMENT ON COLUMN SCH_ENTIDAD.TBL_PROCESO.ESTADO_PROCESO_ID IS 'ESTADO DEL PROCESO: PENDIENTE, EN EJECUCION, PROCESADO OK, PROCESADO CON ERROR';
COMMENT ON COLUMN SCH_ENTIDAD.TBL_PROCESO.MENSAJE_ERROR IS 'MENSAJE DEL PROCESO CON ERROR';
COMMENT ON COLUMN SCH_ENTIDAD.TBL_PROCESO.ESTADO_REGISTRO IS 'ESTADO DEL REGISTRO';
COMMENT ON COLUMN SCH_ENTIDAD.TBL_PROCESO.USUARIO_CREACION IS 'USUARIO CREACION';
COMMENT ON COLUMN SCH_ENTIDAD.TBL_PROCESO.FECHA_CREACION IS 'FECHA CREACION';
COMMENT ON COLUMN SCH_ENTIDAD.TBL_PROCESO.USUARIO_MODIFICACION IS 'USUARIO MODIFICACION';
COMMENT ON COLUMN SCH_ENTIDAD.TBL_PROCESO.FECHA_MODIFICACION IS 'FECHA MODIFICACION';

CREATE SEQUENCE SCH_ENTIDAD.SEQ_PROCESO_ID
 START WITH     1
 INCREMENT BY   1
 NOCACHE
 NOCYCLE;
 
CREATE TABLE "SCH_ENTIDAD"."TBL_PROCESO_ERROR" 
   ("PROCESO_ERROR_ID" NUMBER(9,0) NOT NULL ENABLE, 	
    "PROCESO_ID" NUMBER(9,0) NOT NULL ENABLE, 
	"DETALLE_ERROR" VARCHAR2(4000) NOT NULL ENABLE,
	"ESTADO_REGISTRO" CHAR(1) NOT NULL ENABLE, 
	"USUARIO_CREACION" VARCHAR2(30) NOT NULL ENABLE, 
	"FECHA_CREACION" DATE NOT NULL ENABLE, 
	"USUARIO_MODIFICACION" VARCHAR2(30), 
	"FECHA_MODIFICACION" DATE, 
	 CONSTRAINT "PROCESO_ERROR_ID_PK" PRIMARY KEY ("PROCESO_ERROR_ID"),
	 FOREIGN KEY ("PROCESO_ID") REFERENCES "SCH_ENTIDAD"."TBL_PROCESO" ("PROCESO_ID"));

CREATE SEQUENCE SCH_ENTIDAD.SEQ_PROCESO_ERROR_ID
 START WITH     1
 INCREMENT BY   1
 NOCACHE
 NOCYCLE;



















