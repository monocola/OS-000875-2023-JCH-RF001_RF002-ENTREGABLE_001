<nb-card class="parent-card">
  <nb-card-body class="body-card col-md-12">
    <div class="justify-content-center">
      <div class="text-center">
        <h3 class='titleGDR'> ¡Bienvenido! </h3>
        <h6 class='titleGDR'> Gestión de Rendimiento </h6>
        <br>
      </div>

      <form class="row w-100 pt-1" [formGroup]="loginForm">
        <div class="form-control-group w-100">
          <label for="mail"><h6 class='m-0 p-0'>Usuario</h6></label>
          <nb-form-field class="w-100">
            <nb-icon nbPrefix icon="usuario"></nb-icon>
            <input
              id="mail"
              type="text"
              nbInput
              fullWidth
              placeholder="Ingresa tu número de documento"
              formControlName="documentNumber"
              shape="semi-round"
              fieldSize="large"
              maxlength="12"
              minlength="8"
              #document
              [value]="this.document.value.toUpperCase()"
              oninput="this.value = this.value.replace(/[^a-zA-Z0-9]/g, '')"
              [status]="
                f.documentNumber.invalid && f.documentNumber.touched
                  ? 'danger'
                  : 'basic'
              "
            />
          </nb-form-field>
          <div
            *ngIf="f.documentNumber.invalid && f.documentNumber.touched"
            class="invalid-text flex-column"
          >
            <div *ngIf="f.documentNumber.errors.required">
              El campo es obligatorio
            </div>
            <div *ngIf="f.documentNumber.errors.pattern">
              DNI se aceptan números
            </div>
            <div *ngIf="f.documentNumber.errors.minlength">
              El texto introducido es muy corto
            </div>
            <div *ngIf="f.documentNumber.errors.maxlength">
              El texto introducido es muy largo
            </div>
          </div>
        </div>

        <div class="form-control-group w-100">
          <label for="pass"><h6 class='m-0 p-0'>Contraseña</h6></label>
          <nb-form-field class="w-100">
            <nb-icon nbPrefix icon="padlock"></nb-icon>
            <input
              id="pass"
              [type]="showPassword ? 'text' : 'password'"
              nbInput
              fullWidth
              placeholder="Ingresa tu contraseña"
              formControlName="password"
              (keydown.enter)="login3()"
              shape="semi-round"
              fieldSize="large"
              maxlength="20"
              [status]="
                f.password.invalid && f.password.touched ? 'danger' : 'basic'
              "
            />
            <button
              type="button"
              nbSuffix
              nbButton
              ghost
              (click)="toggleShowPassword()"
            >
            <!-- <nb-icon
                [icon]="showPassword ? 'eyes-open' : 'eyes-close'"
                [attr.aria-label]="
                  showPassword ? 'hide password' : 'show password'
                "
              >
              </nb-icon> -->
            <div *ngIf="showPassword" style="height: 20px; width: 20px;">
              <svg id="SvgjsSvg1001" width="20" height="20" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1002"></defs><g id="SvgjsG1008"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><g data-name="Layer 2" fill="#39bdc8" class="color000 svgShape"><g data-name="eye" fill="#39bdc8" class="color000 svgShape"><rect width="24" height="24" opacity="0" fill="#39bdc8" class="color000 svgShape"></rect><path d="M21.87 11.5c-.64-1.11-4.16-6.68-10.14-6.5-5.53.14-8.73 5-9.6 6.5a1 1 0 0 0 0 1c.63 1.09 4 6.5 9.89 6.5h.25c5.53-.14 8.74-5 9.6-6.5a1 1 0 0 0 0-1zM12.22 17c-4.31.1-7.12-3.59-8-5 1-1.61 3.61-4.9 7.61-5 4.29-.11 7.11 3.59 8 5-1.03 1.61-3.61 4.9-7.61 5z" fill="#39bdc8" class="color000 svgShape"></path><path d="M12 8.5a3.5 3.5 0 1 0 3.5 3.5A3.5 3.5 0 0 0 12 8.5zm0 5a1.5 1.5 0 1 1 1.5-1.5 1.5 1.5 0 0 1-1.5 1.5z" fill="#39bdc8" class="color000 svgShape"></path></g></g></svg></g></svg>
            </div>
            <div *ngIf="!showPassword" style="height: 20px; width: 20px;">
              <svg id="SvgjsSvg1015" width="20" height="20" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1016"></defs><g id="SvgjsG1017"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><g data-name="Layer 2" fill="#0dacbc" class="color000 svgShape"><g data-name="eye-off" fill="#0dacbc" class="color000 svgShape"><rect width="24" height="24" opacity="0" fill="#0dacbc" class="color000 svgShape"></rect><path d="M4.71 3.29a1 1 0 0 0-1.42 1.42l5.63 5.63a3.5 3.5 0 0 0 4.74 4.74l5.63 5.63a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM12 13.5a1.5 1.5 0 0 1-1.5-1.5v-.07l1.56 1.56z" fill="#0dacbc" class="color000 svgShape"></path><path d="M12.22 17c-4.3.1-7.12-3.59-8-5a13.7 13.7 0 012.24-2.72L5 7.87a15.89 15.89 0 00-2.87 3.63 1 1 0 000 1c.63 1.09 4 6.5 9.89 6.5h.25a9.48 9.48 0 003.23-.67l-1.58-1.58a7.74 7.74 0 01-1.7.25zM21.87 11.5c-.64-1.11-4.17-6.68-10.14-6.5a9.48 9.48 0 00-3.23.67l1.58 1.58a7.74 7.74 0 011.7-.25c4.29-.11 7.11 3.59 8 5a13.7 13.7 0 01-2.29 2.72L19 16.13a15.89 15.89 0 002.91-3.63 1 1 0 00-.04-1z" fill="#0dacbc" class="color000 svgShape"></path></g></g></svg></g></svg>            </div>
            </button>
          </nb-form-field>
          <div
            *ngIf="f.password.invalid && f.password.touched"
            class="invalid-text flex-column"
          >
            <span *ngIf="f.password.errors.required">
              El campo es obligatorio
            </span>
            <span *ngIf="f.password.errors.pattern">
              Solo se aceptan números y letras
            </span>
            <span *ngIf="f.password.errors.minlength">
              El texto introducido es muy corto
            </span>
            <span *ngIf="f.password.errors.maxlength">
              El texto introducido es muy largo
            </span>
          </div>
        </div>



        <div class="row w-100 m-0 my-4" [style.place-content]="'center'">
          <div class="captchaContent">
            <input
              type="text"
              id="captchaLogin"
              placeholder="Ingrese el código"
              maxlength="5"
              autocomplete="off"
              nbInput
              shape="semi-round"
              fieldSize="large"
              formControlName="inputCaptcha"
              class="ml-3 captchaLogin"
              oninput="this.value = this.value.replace(/[^a-zA-Z]/g, '')"
              [status]="
                f.inputCaptcha?.invalid && f.inputCaptcha?.touched
                  ? 'danger'
                  : 'basic'
              "
              (keyup.enter)="login3()"
            />
          </div>
          <div
            *ngIf="f.inputCaptcha.invalid && f.inputCaptcha.touched"
            class="invalid-text text-center w-100"
          >
            <span *ngIf="f.inputCaptcha.errors.required">
              El campo es obligatorio
            </span>
            <span *ngIf="f.inputCaptcha.errors.minlength">
              El texto debe tener 5 caracteres
            </span>
          </div>
        </div>

        <div class="row w-100 m-0 mt-2">
          <div class='col-md-2'></div>
          <div class='col-md-8'>
            <button class='btn btn-login'
                    nbButton
                    shape="round"
                    style='background-color: #0dacbc; color: #f1f1f1;'
                    (click)="login3()"
                    fullWidth
                    [disabled]="!this.loginForm.valid"
            >
              Ingresar
            </button>
          </div>
        </div>

        <div class="row w-100 m-0 mt-4 p-0 col-md-12">
          <div class='col-md-3'></div>
          <div class='col-md-7 p-0'>
            <a [routerLink]="'/auth/forgot-password'">
              <p style='font-size: 1rem; font-weight: bold;' class='titleGDR'>¿Olvidaste tu contraseña?</p></a>
          </div>
        </div>

      </form>
    </div>
  </nb-card-body>
</nb-card>
